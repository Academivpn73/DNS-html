<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>🎮 Academi DNS Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;900&family=Vazirmatn:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent1: #00ff88;
      --accent2: #38bdf8;
      --card-glass: rgba(10,12,20,0.3);
      --glass-border: rgba(255,255,255,0.08);
      --dns-green: #00c853;
      --muted: #c8f7e4;
    }

    body{
      font-family:"Vazirmatn",system-ui,sans-serif;
      background:linear-gradient(135deg,#0f172a,#1e293b);
      color:#ecfdf5;margin:0;padding:0;
    }

    .container{max-width:1180px;margin:0 auto;padding:20px;}

    /* ===== Header ===== */
    .header{text-align:center;padding:30px 10px;}
    .brand{
      font-family:"Poppins",sans-serif;font-weight:900;font-size:42px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      -webkit-background-clip:text;color:transparent;
      text-shadow:0 8px 25px rgba(0,0,0,0.55);
    }
    .meta{margin-top:10px;color:var(--muted);font-size:13px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap;}
    .meta a{color:#bafbe7;font-weight:700;text-decoration:none;}

    /* ===== Cards ===== */
    .card{
      background:var(--card-glass);
      border-radius:14px;padding:18px;margin-bottom:18px;
      border:1px solid var(--glass-border);
      backdrop-filter:blur(10px) saturate(120%);
      box-shadow:0 0 25px rgba(0,0,0,0.45),0 6px 20px rgba(0,0,0,0.25);
    }

    /* ===== Inputs & Buttons ===== */
    select,input[type=number]{
      background:linear-gradient(135deg,rgba(0,123,255,0.7),rgba(0,200,255,0.7));
      border:1px solid rgba(0,123,255,0.9);
      border-radius:12px;
      padding:8px 12px;
      color:#fff;font-weight:bold;
      outline:none;
      margin:6px 0;
      transition:all 0.3s ease;
    }
    select:hover,input[type=number]:hover{
      transform:scale(1.05);
      box-shadow:0 0 15px rgba(0,200,255,0.7);
    }

    .btn{
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#000;font-weight:800;padding:10px 20px;border-radius:14px;
      border:none;cursor:pointer;transition:all 0.3s ease;
    }
    .btn:hover{transform:scale(1.1);box-shadow:0 0 20px rgba(0,255,200,0.8);}

    .dns-item{
      margin-bottom:12px;padding:10px;border-radius:10px;
      background:rgba(0,0,0,0.25);
    }
    .dns-left{font-weight:900;color:var(--dns-green);margin-bottom:8px;}
    .muted{color:var(--muted);font-size:13px;}

    /* ===== Hamburger Menu ===== */
    .hamburger{
      font-size:28px;
      cursor:pointer;
      color:#fff;
      position:fixed;
      top:15px;
      right:20px;
      z-index:1001;
    }
    .sidebar{
      position:fixed;
      right:-260px;
      top:0;
      width:240px;
      height:100%;
      background:rgba(0,0,20,0.95);
      backdrop-filter:blur(10px);
      box-shadow:-4px 0 15px rgba(0,0,0,0.4);
      padding-top:60px;
      transition:all 0.4s ease;
      z-index:1000;
    }
    .sidebar a{
      display:block;
      padding:12px 20px;
      color:#00e5ff;
      font-weight:bold;
      text-decoration:none;
      transition:all 0.3s ease;
    }
    .sidebar a:hover{
      background:rgba(0,200,255,0.15);
      padding-right:30px;
    }
    .sidebar.open{ right:0; }

    /* ===== Footer ===== */
    footer{
      text-align:center;
      padding:20px;
      font-size:14px;
      background:rgba(0,0,0,0.3);
      border-top:1px solid var(--glass-border);
    }
    footer a{color:#00e5ff;text-decoration:none;font-weight:bold;}
    .social-icons{margin-top:10px;}
    .social-icons img{width:32px;margin:0 5px;cursor:pointer;}
  </style>
</head>

<body>
  <!-- ===== Hamburger ===== -->
  <div class="hamburger" onclick="toggleMenu()">☰</div>

  <!-- ===== Sidebar ===== -->
  <nav id="sidebar" class="sidebar">
    <a href="#gaming">🎮 Gaming DNS</a>
    <a href="#download">📥 Download DNS</a>
    <a href="#best">⚡ Best DNS</a>
    <a href="#ping">🌐 Ping DNS</a>
    <a href="#site2">🌍 سایت دوم (بزودی)</a>
    <a href="#about">ℹ️ درباره ما</a>
  </nav>

  <div class="container">
    <header class="header">
      <div class="brand">🎮 Academi DNS Panel</div>
      <div class="meta">
        <a href="https://t.me/Academi_vpn" target="_blank">کانال ما: @Academi_vpn</a>
        <span>|</span>
        <span>Version: 2.0.0</span>
      </div>
    </header>

    <!-- 🎮 Gaming DNS Generator -->
    <div id="gaming" class="card">
      <h2>🎮 Generate DNS — Gaming</h2>
      <!-- بعداً جاوااسکریپت پارت 2 میاد -->
      <div>
        <label for="countrySelect">کشور:</label>
        <select id="countrySelect">
          <option value="ir">Iran</option>
          <option value="us">USA</option>
          <option value="tr">Turkey</option>
          <option value="sa">Saudi Arabia</option>
          <option value="global">Global</option>
        </select>
      </div>

      <div>
        <label for="deviceSelect">دیوایس:</label>
        <select id="deviceSelect" onchange="updateGameList()">
          <option value="pc">PC</option>
          <option value="mobile">Mobile</option>
          <option value="console">Console</option>
          <option value="linux">Linux</option>
          <option value="mac">Mac</option>
        </select>
      </div>

      <div>
        <label for="gameSelect">گیم:</label>
        <select id="gameSelect"></select>
      </div>

      <div>
        <label for="staticCount">تعداد ثابت:</label>
        <input id="staticCount" type="number" value="2" min="1" max="50" />
        <label for="genCount">تعداد ژنراتوری:</label>
        <input id="genCount" type="number" value="2" min="1" max="50" />
      </div>

      <div>
        <button class="btn" onclick="generateDNS()">Generate</button>
        <button class="btn" onclick="regenerateDNS()">Regenerate</button>
      </div>

      <div id="dnsResult" class="dns-list"></div>
    </div>

    <!-- 📥 Download DNS -->
    <div id="download" class="card">
      <h2>📥 Download DNS (Top 30)</h2>
      <button class="btn" onclick="loadDownloadList()">نمایش DNS ها</button>
      <div id="downloadDNS" class="dns-list"></div>
    </div>

    <!-- ⚡ Best DNS -->
    <div id="best" class="card">
      <h2>⚡ Best DNS (Auto Select)</h2>
      <button class="btn" onclick="findBestDNS()">یافتن بهترین DNS ها</button>
      <div id="bestDNS" class="dns-list"></div>
    </div>

    <!-- 🌐 Ping DNS (جدا از بقیه و در منو) -->
    <div id="ping" class="card">
      <h2>🌐 All DNS Ping (Top 30)</h2>
      <button class="btn" onclick="loadAllPing()">نمایش پینگ</button>
      <div id="allPingList" class="dns-list"></div>
    </div>

    <!-- ℹ️ درباره ما -->
    <div id="about" class="card">
      <h2>ℹ️ درباره ما</h2>
      <p>سازنده: <b>مهدی</b></p>
      <p>کانال ما: <a href="https://t.me/Academi_vpn" target="_blank">@Academi_vpn</a></p>
      <div class="social-icons">
        <a href="https://t.me/Academi_vpn" target="_blank">
          <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram">
        </a>
      </div>
    </div>
  </div>

  <footer>
    ساخته شده با ❤️ توسط <b>مهدی</b> | <a href="https://t.me/Academi_vpn" target="_blank">کانال: @Academi_vpn</a>
  </footer>
<script>
/* ========================
   🎮 لیست بازی‌ها
   ======================== */
const gamesByDevice = {
  pc: [
    "Valorant","CS:GO","Dota 2","League of Legends","Fortnite","PUBG PC","Overwatch 2","Apex Legends","Minecraft","GTA V",
    "Call of Duty MW2","Warzone","Rainbow Six Siege","Rust","World of Warcraft","Cyberpunk 2077","Rocket League","Elden Ring",
    "Palworld","➕ سایر"
  ],
  mobile: [
    "PUBG Mobile","Call of Duty Mobile","Free Fire","Clash of Clans","Clash Royale","Brawl Stars","Genshin Impact",
    "Roblox Mobile","Subway Surfers","Standoff 2","Mobile Legends","Arena of Valor","8 Ball Pool","Critical Ops","Asphalt 9",
    "Pokémon Unite","➕ سایر"
  ],
  console: [
    "FIFA 23","Warzone","Fortnite","GTA V","Cyberpunk 2077","Rocket League","NBA 2K23","God of War Ragnarok","Elden Ring",
    "Rainbow Six Siege","Mortal Kombat 11","Street Fighter 6","Tekken 7","Spider-Man","➕ سایر"
  ],
  linux: [
    "Dota 2","CS:GO","Team Fortress 2","Rust","Minecraft","Xonotic","War Thunder","Veloren","FreeCiv","➕ سایر"
  ],
  mac: [
    "Dota 2","League of Legends","Fortnite","Minecraft","Civilization VI","World of Warcraft","Diablo III","Among Us",
    "Stardew Valley","Terraria","➕ سایر"
  ]
};

function updateGameList(){
  const device = document.getElementById("deviceSelect").value;
  const gameSelect = document.getElementById("gameSelect");
  gameSelect.innerHTML = "";
  gamesByDevice[device].forEach(g=>{
    const opt = document.createElement("option");
    opt.value = g;
    opt.textContent = g;
    gameSelect.appendChild(opt);
  });

  gameSelect.addEventListener("change",()=>{
    if(gameSelect.value==="➕ سایر"){
      const customInput = prompt("نام بازی خود را وارد کنید:");
      if(customInput){
        const opt = document.createElement("option");
        opt.value = customInput;
        opt.textContent = customInput;
        gameSelect.appendChild(opt);
        gameSelect.value = customInput;
      }
    }
  });
}

/* ========================
   🌐 پینگ DNS
   ======================== */
async function measureDNS(ip){
  const host = ip.includes(':')?`[${ip}]`:ip;
  const url = `https://${host}/`;
  const start = performance.now();
  try{ 
    await fetch(url,{mode:'no-cors'}); 
    return Math.round(performance.now()-start);
  }catch(e){ 
    return null;
  }
}
function status(ms){
  if(ms===null) return '<span style="color:#f87171">fail</span>';
  if(ms<=50) return `<span style="color:#4ade80">${ms} ms</span>`;
  if(ms<=120) return `<span style="color:#facc15">${ms} ms</span>`;
  return `<span style="color:#f87171">${ms} ms</span>`;
}

/* ========================
   ⚙️ ژنراتور DNS
   ======================== */
function generateDNS(){
  const country = document.getElementById('countrySelect').value;
  const device = document.getElementById('deviceSelect').value;
  let game = document.getElementById('gameSelect').value;
  if(game==="➕ سایر") game = "Custom Game";

  const staticCount = parseInt(document.getElementById('staticCount').value)||2;
  const genCount = parseInt(document.getElementById('genCount').value)||2;

  let base = [];
  if(country==='ir') base = dnsIR;
  else if(country==='us') base = dnsUS;
  else if(country==='tr') base = dnsTR;
  else if(country==='sa') base = dnsSA;
  else base = dnsGlobal;

  // انتخاب رندوم DNSها
  const pickRandom = (arr, count, type) => {
    const chosen = [];
    for(let i=0; i<count; i++){
      const ip = arr[Math.floor(Math.random()*arr.length)];
      chosen.push({ip, source:type});
    }
    return chosen;
  };

  const staticList = pickRandom(base, staticCount, "ثابت");
  const genList = pickRandom(base, genCount, "ژنراتوری");

  renderDNS([...staticList, ...genList], 'dnsResult', device, game, country);
}

function regenerateDNS(){
  const genCount = parseInt(document.getElementById('genCount').value)||2;
  const device = document.getElementById('deviceSelect').value;
  let game = document.getElementById('gameSelect').value;
  if(game==="➕ سایر") game="Custom Game";
  const country = document.getElementById('countrySelect').value;

  let base = [];
  if(country==='ir') base = dnsIR;
  else if(country==='us') base = dnsUS;
  else if(country==='tr') base = dnsTR;
  else if(country==='sa') base = dnsSA;
  else base = dnsGlobal;

  const list=[]; 
  for(let i=0;i<genCount;i++) 
    list.push({ip: base[Math.floor(Math.random()*base.length)], source:"ژنراتوری"});
  
  renderDNS(list, 'dnsResult', device, game, country);
}

/* ========================
   📥 نمایش و رندر خروجی
   ======================== */
function renderDNS(list, id, device=null, game=null, country=null){
  const c = document.getElementById(id); 
  c.innerHTML='';
  if(!list || list.length===0){ 
    c.innerHTML='<div class="muted">خالی</div>'; 
    return; 
  }
  
  for(let i=0; i<list.length; i+=2){
    const primary = list[i];
    const secondary = list[i+1] || null;

    const d = document.createElement('div'); 
    d.className='dns-item';
    d.innerHTML = `
      <div class="dns-left">
        <b>گیم:</b> ${game || "-"} <br>
        <b>کشور:</b> ${country || "-"} <br>
        <b>DNS اولیه:</b> ${primary?primary.ip:"-"} (${primary?primary.source:""}) <br>
        <b>DNS ثانویه:</b> ${secondary?secondary.ip:"-"} (${secondary?secondary.source||""})
      </div>
      <div class="dns-meta">⏳ در حال محاسبه پینگ...</div>
    `;
    c.appendChild(d);

    measureDNS(primary.ip).then(ms=>{
      d.children[1].innerHTML = `پینگ: ${status(ms)}`;
    });
  }
}

/* ========================
   📥 Download & Ping
   ======================== */
function loadDownloadList(){
  renderDNS(dnsGlobal.slice(0,30).map(ip=>({ip,source:"دانلود"})),'downloadDNS',"All","Download","global");
}
function loadAllPing(){
  renderDNS(dnsGlobal.slice(0,30).map(ip=>({ip,source:"پینگ"})),'allPingList',"All","Ping","global");
}

/* ========================
   🚀 Init
   ======================== */
document.addEventListener('DOMContentLoaded', ()=>{
  updateGameList();
});

function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("open");
}
</script>
<script>
/* ========================
   🇮🇷 DNS های ایران (ISP & داخلی)
   ======================== */
const dnsIR = [
  "178.22.122.100","178.22.122.101","185.51.200.2","185.51.200.3",
  "10.202.10.202","10.202.10.102","10.202.10.200","10.202.10.201",
  "217.218.127.127","185.55.226.26","185.143.233.5","185.143.233.6",
  "185.231.181.1","185.231.181.2","87.107.181.1","87.107.181.2",
  "62.60.138.150","62.60.138.151","5.160.2.2","5.160.2.1",
  "89.165.128.1","89.165.128.2","37.152.182.112","37.152.182.113",
  "185.37.54.54","185.37.54.55","176.65.240.1","176.65.240.2",
  "217.11.16.1","217.11.16.2","185.124.112.1","185.124.112.2",
  "185.141.168.1","185.141.168.2","185.147.160.1","185.147.160.2",
  "5.160.139.1","5.160.139.2","178.173.146.1","178.173.146.2",
  "185.211.57.1","185.211.57.2","89.44.113.1","89.44.113.2",
  "185.231.114.1","185.231.114.2","2.189.44.1","2.189.44.2",
  "2.189.45.1","2.189.45.2","185.37.55.1","185.37.55.2",
  "194.225.73.1","194.225.73.2","5.190.2.1","5.190.2.2",
  "78.39.32.1","78.39.32.2","185.192.112.1","185.192.112.2",
  "188.118.64.1","188.118.64.2","185.215.56.1","185.215.56.2",
  "31.14.112.1","31.14.112.2","37.156.8.1","37.156.8.2",
  "185.126.12.1","185.126.12.2","62.220.96.1","62.220.96.2",
  "185.95.12.1","185.95.12.2","185.211.60.1","185.211.60.2",
  "94.232.170.1","94.232.170.2","185.147.164.1","185.147.164.2",
  "185.104.184.1","185.104.184.2","176.56.144.1","176.56.144.2",
  "185.119.60.1","185.119.60.2","37.152.176.1","37.152.176.2",
  "185.50.104.1","185.50.104.2","185.19.201.1","185.19.201.2",
  "185.32.28.1","185.32.28.2","62.60.192.1","62.60.192.2",
  "217.174.16.1","217.174.16.2","185.74.192.1","185.74.192.2",
  "185.95.72.1","185.95.72.2","85.133.192.1","85.133.192.2",
  "185.118.152.1","185.118.152.2","185.58.240.1","185.58.240.2",
  "94.101.128.1","94.101.128.2","185.126.200.1","185.126.200.2",
  "176.221.48.1","176.221.48.2","185.8.172.1","185.8.172.2",
  "185.129.160.1","185.129.160.2","185.129.161.1","185.129.161.2",
  "2.189.59.1","2.189.59.2","37.255.248.1","37.255.248.2",
  "185.49.84.1","185.49.84.2","185.231.80.1","185.231.80.2",
  "37.130.200.1","37.130.200.2","185.165.200.1","185.165.200.2",
  "185.73.0.1","185.73.0.2","185.110.200.1","185.110.200.2",
  "185.120.220.1","185.120.220.2","185.112.100.1","185.112.100.2"
];

/* ========================
   🌍 DNS های گلوبال (Public Resolvers)
   ======================== */
const dnsGlobal = [
  "8.8.8.8","8.8.4.4","2001:4860:4860::8888","2001:4860:4860::8844", // Google
  "1.1.1.1","1.0.0.1","2606:4700:4700::1111","2606:4700:4700::1001", // Cloudflare
  "9.9.9.9","149.112.112.112","2620:fe::fe","2620:fe::9", // Quad9
  "208.67.222.222","208.67.220.220","2620:119:35::35","2620:119:53::53", // OpenDNS
  "94.140.14.14","94.140.15.15","2a10:50c0::ad1:ff","2a10:50c0::ad2:ff", // AdGuard
  "185.228.168.9","185.228.169.9","45.90.28.0","45.90.30.0", // CleanBrowsing
  "76.76.19.19","76.76.2.0","76.76.10.0","76.223.122.150", // NextDNS
  "4.2.2.1","4.2.2.2","4.2.2.3","4.2.2.4", // Level3
  "64.6.64.6","64.6.65.6","2620:74:1b::1:1","2620:74:1c::2:2", // Verisign
  "156.154.70.1","156.154.71.1","2610:a1:1018::1","2610:a1:1019::1", // Neustar
  "8.26.56.26","8.20.247.20","208.76.50.50","208.76.51.51", // Comodo
  "84.200.69.80","84.200.70.40","2001:1608:10:25::1c04:b12f","2001:1608:10:25::9249:d69b", // DNS.WATCH
  "91.239.100.100","89.233.43.71","185.121.177.177","169.239.202.202", // Misc
  "216.239.32.10","216.239.34.10","216.239.36.10","216.239.38.10", // Google Anycast
  "209.244.0.3","209.244.0.4","199.85.126.10","199.85.127.10","199.85.126.20","199.85.127.20", // Verizon+Norton
  "37.235.1.174","37.235.1.177","208.67.222.123","208.67.220.123", // OpenDNS Family
  "77.88.8.8","77.88.8.1", // Yandex
  "216.146.35.35","216.146.36.36","74.82.42.42" // DynDNS+Hurricane
];
</script>
<script>
/* ========================
   🇺🇸 DNS های آمریکا
   ======================== */
const dnsUS = [
  "8.8.8.8","8.8.4.4", // Google
  "1.1.1.1","1.0.0.1", // Cloudflare
  "9.9.9.9","149.112.112.112", // Quad9
  "208.67.222.222","208.67.220.220", // OpenDNS
  "4.2.2.1","4.2.2.2","4.2.2.3","4.2.2.4", // Level3
  "64.6.64.6","64.6.65.6", // Verisign
  "8.26.56.26","8.20.247.20", // Comodo
  "216.146.35.35","216.146.36.36", // DynDNS
  "74.82.42.42","209.244.0.3","209.244.0.4", // Hurricane + Verizon
  "199.85.126.10","199.85.127.10","199.85.126.20","199.85.127.20", // Norton
  "156.154.70.1","156.154.71.1", // Neustar
  "45.90.28.0","45.90.30.0", // CleanBrowsing
  "76.76.19.19","76.76.2.0", // NextDNS
  "216.239.32.10","216.239.34.10","216.239.36.10","216.239.38.10"
];

/* ========================
   🇹🇷 DNS های ترکیه
   ======================== */
const dnsTR = [
  "195.175.39.49","195.175.39.50", // Turk Telekom
  "195.175.39.39","195.175.39.40", // TTNET
  "212.156.4.20","212.156.4.21", // Superonline
  "212.154.100.18","212.154.100.19", // Kablonet
  "212.174.112.50","212.174.112.51", // Uydunet
  "81.212.29.1","81.212.29.2", // TTNET alt
  "85.95.224.1","85.95.224.2", // Millenicom TR
  "82.222.169.49","82.222.169.50", // Vodafone TR
  "213.74.12.1","213.74.12.2", // Turkcell
  "195.155.132.1","195.155.132.2", // DorukNet
  "212.58.224.1","212.58.224.2" // Local ISP
];

/* ========================
   🇸🇦 DNS های عربستان سعودی
   ======================== */
const dnsSA = [
  "212.26.18.1","212.26.18.2", // STC
  "212.118.0.1","212.118.0.2", // Zain
  "84.235.6.1","84.235.6.2", // Mobily
  "87.101.248.1","87.101.248.2", // ITC
  "82.147.192.1","82.147.192.2", // SaudiNet
  "185.1.76.1","185.1.76.2", // Hosting SA
  "212.26.20.1","212.26.20.2",
  "213.181.85.1","213.181.85.2",
  "82.205.224.1","82.205.224.2",
  "188.48.32.1","188.48.32.2",
  "91.144.64.1","91.144.64.2",
  "195.12.96.1","195.12.96.2",
  "37.99.160.1","37.99.160.2",
  "217.17.36.1","217.17.36.2",
  "83.101.0.1","83.101.0.2",
  "84.235.7.1","84.235.7.2",
  "188.48.64.1","188.48.64.2"
];
</script>
<script>
/* ========================
   🎲 ژنراتور آی‌پی رندوم
   ======================== */

// توابع کمکی برای ساخت آی‌پی
function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
function randomIPv4(base){return base+"."+rand(1,254);}
function randomIPv6(prefix){return prefix+rand(1000,9999).toString(16);}

/* ========================
   🇮🇷 ایران
   ======================== */
function randomDNS_IR(){
  const bases = [
    "5.160.2","5.160.139","37.152.176","37.152.182",
    "185.51.200","185.37.54","185.37.55","185.143.233",
    "185.231.181","185.147.160","185.147.164","185.211.57",
    "185.120.220","185.104.184","185.19.201","185.32.28"
  ];
  return randomIPv4(bases[Math.floor(Math.random()*bases.length)]);
}

/* ========================
   🇺🇸 آمریکا
   ======================== */
function randomDNS_US(){
  const bases = [
    "8.8.8","8.8.4","4.2.2","64.6.64","64.6.65",
    "208.67.222","208.67.220","156.154.70","156.154.71"
  ];
  return randomIPv4(bases[Math.floor(Math.random()*bases.length)]);
}

/* ========================
   🇹🇷 ترکیه
   ======================== */
function randomDNS_TR(){
  const bases = [
    "195.175.39","212.156.4","212.154.100","212.174.112",
    "81.212.29","85.95.224","82.222.169","213.74.12"
  ];
  return randomIPv4(bases[Math.floor(Math.random()*bases.length)]);
}

/* ========================
   🇸🇦 عربستان سعودی
   ======================== */
function randomDNS_SA(){
  const bases = [
    "212.26.18","212.118.0","84.235.6","87.101.248",
    "82.147.192","82.205.224","91.144.64","195.12.96",
    "37.99.160","188.48.32"
  ];
  return randomIPv4(bases[Math.floor(Math.random()*bases.length)]);
}

/* ========================
   🎮 انتخاب ژنراتوری بر اساس کشور
   ======================== */
function generateRandomByCountry(country){
  if(country==="ir") return randomDNS_IR();
  if(country==="us") return randomDNS_US();
  if(country==="tr") return randomDNS_TR();
  if(country==="sa") return randomDNS_SA();
  return "8.8.8.8"; // fallback
}
</script>
<script>
async function findBestDNS(){
  const c = document.getElementById("bestDNS");
  c.innerHTML = "<div class='muted'>⏳ در حال تست DNS ها ...</div>";

  // همه DNSها یکجا
  const all = dnsIR.concat(dnsUS, dnsTR, dnsSA, dnsGlobal);

  const results = [];
  for(const ip of all){
    const ms = await measureDNS(ip);
    results.push({ip,ms});
  }

  // فیلتر زیر 150ms و مرتب‌سازی
  const good = results.filter(r=>r.ms!==null && r.ms<150)
                      .sort((a,b)=>a.ms-b.ms)
                      .slice(0,15); // بهترین 15 تا

  c.innerHTML = "";
  if(good.length===0){
    c.innerHTML = "<div class='muted'>❌ DNS سریع پیدا نشد</div>";
    return;
  }

  good.forEach((r,idx)=>{
    const d = document.createElement("div");
    d.className="dns-item";
    d.style.animation = `fadeIn 0.4s ease ${idx*0.1}s forwards`;
    d.style.opacity = "0";
    d.innerHTML = `
      <div class="dns-left">
        <b>#${idx+1}</b> ${r.ip}
      </div>
      <div class="dns-meta">پینگ: ${status(r.ms)}</div>
    `;
    c.appendChild(d);
  });
}

/* ✨ انیمیشن fadeIn */
const style = document.createElement('style');
style.innerHTML = `
@keyframes fadeIn {
  from {opacity:0; transform:translateY(10px);}
  to {opacity:1; transform:translateY(0);}
}`;
document.head.appendChild(style);
</script>
</body>
</html>
